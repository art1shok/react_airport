(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(31)},24:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=a(9),i=(a(24),a(7)),s=a(5),u=a(11),m=a.n(u),d=function(e){var t=e.location,a=e.history,c=Object(n.useState)("today"),l=Object(i.a)(c,2),o=l[0],s=l[1],u=(new Date).getMonth()+1,m=(new Date).getFullYear(),d=new URLSearchParams(t.search),p=function(e){d.set("date","".concat(e,"-").concat(u,"-").concat(m)),a.push({search:d.toString()})};return r.a.createElement("div",{className:"btn-group btn-group-toggle","data-toggle":"buttons"},r.a.createElement("label",{className:"yesterday"===o?"btn btn-secondary active":"btn btn-secondary"},r.a.createElement("input",{type:"radio",name:"options",id:"option1",checked:!0,onClick:function(){p((new Date).getDate()-1),s("yesterday")}}),"Yesterday"),r.a.createElement("label",{className:"today"===o?"btn btn-secondary active":"btn btn-secondary"},r.a.createElement("input",{type:"radio",name:"options",id:"option2",onClick:function(){p((new Date).getDate()),s("today")}}),"Today"),r.a.createElement("label",{className:"tomorrow"===o?"btn btn-secondary active":"btn btn-secondary"},r.a.createElement("input",{type:"radio",name:"options",id:"option3",onClick:function(){p((new Date).getDate()+1),s("tomorrow")}}),"Tomorrow"))},p=function(e,t){switch(e){case"DP":return"Departed at ".concat(new Date(t).getHours(),":").concat("0".concat(new Date(t).getMinutes()).slice(-2));case"CX":return"Cancelled";case"LN":return"Landed ".concat(new Date(t).getHours(),":").concat("0".concat(new Date(t).getMinutes()).slice(-2));case"FR":return"In fly";case"ON":return"On time";case"CK":return"Check-in";case"GC":return"Gate close";case"BD":return"Begin departure";default:return"\ud83d\udc40\u200d\u200d"}},b=function(e){var t=e.term,a=e.localTime,n=e.destination,c=e.statusTime,l=e.flightCode,o=e.status;return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,"".concat(new Date(a).getHours(),":").concat("0".concat(new Date(a).getMinutes()).slice(-2))),r.a.createElement("td",null,n),r.a.createElement("td",null,p(o,c)),r.a.createElement("td",null,l.map(function(e){return r.a.createElement("li",{key:e.codeShare},r.a.createElement("img",{alt:e.airline.en.name,src:e.airline.en.logoSmallName,className:"airlineLogo"}),e.airline.en.name)})),r.a.createElement("td",null,l.map(function(e){return r.a.createElement("li",{key:e.codeShare},e.codeShare)})))};b.defaultProps={statusTime:""};var E=b,g=function(e){var t=e.departuresData,a=e.activeLink;return r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"tableTitle"},r.a.createElement("tr",{className:"tableTitle__row"},r.a.createElement("th",{scope:"col"},"Terminal"),r.a.createElement("th",{scope:"col"},"Local time"),r.a.createElement("th",{scope:"col"},"Destination"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"},"Airline"),r.a.createElement("th",{scope:"col"},"Flight"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(E,{key:e.ID,term:e.term,localTime:"departures"===a?e.timeDepExpectCalc:e.timeToStand,destination:"departures"===a?e["airportToID.city_en"]:e["airportFromID.city_en"],statusTime:e.timeTakeofFact||e.timeDepFact,flightCode:e.codeShareData,status:e.status})})))},f=function(e){var t=new URLSearchParams(e.search).get("date");return t=null===t?(new Date).getDate():t.slice(0,t.indexOf("-"))},D=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),p=u[0],b=u[1],E=Object(n.useState)("departures"),D=Object(i.a)(E,2),h=D[0],y=D[1],w=Object(n.useState)((new Date).getDate()),v=Object(i.a)(w,2),k=v[0],N=v[1],C=function(){return"departures"===h?a.filter(function(e){return new Date(e.actual).getDate()===+k}):p.filter(function(e){return new Date(e.actual).getDate()===+k})};return Object(n.useEffect)(function(){(function(){var e,t,a,n;return m.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=(new Date).getDate(),t=(new Date).getMonth()+1,a=(new Date).getFullYear(),r.next=5,m.a.awrap(fetch("https://api.iev.aero/api/flights/".concat(e,"-").concat(t,"-").concat(a)));case 5:return n=r.sent,r.abrupt("return",n.json());case 7:case"end":return r.stop()}})})().then(function(e){c(e.body.departure),b(e.body.arrival)})},[]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"globalLink__block"},r.a.createElement(o.b,{to:"/departures",className:"globalLink",activeClassName:"globalLink--active",onClick:function(){return y("departures")}},"Departures"),r.a.createElement(o.b,{to:"/arrivals",className:"globalLink",activeClassName:"globalLink--active",onClick:function(){return y("arrivals")}},"Arrivals")),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/departures",render:function(e){var t=e.location,a=e.history;return r.a.createElement(r.a.Fragment,null,N(f(t)),r.a.createElement(d,{location:t,history:a}),r.a.createElement(g,{departuresData:C(),activeLink:h}))}}),r.a.createElement(s.a,{path:"/arrivals",render:function(e){var t=e.location,a=e.history;return r.a.createElement(r.a.Fragment,null,N(f(t)),r.a.createElement(d,{location:t,history:a}),r.a.createElement(g,{departuresData:C(),activeLink:h}))}})))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.d9d155b0.chunk.js.map